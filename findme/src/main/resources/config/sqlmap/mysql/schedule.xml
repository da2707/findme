<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.findme.repository.mapper.ScheduleMapper">
	<resultMap type="schedule" id="scheduleMap">
		<result column="id" property="userId"/>
		<result column="unique_no" property="uniqueNo"/>
		<result column="recruit_no" property="recruitNo"/>
		<result column="title" property="title"/>
		<result column="name" property="name"/>
		<result column="reg_date" property="regDate"/>
		<result column="start_date" property="start"/>
		<result column="end_date" property="end"/>
		<result column="apply" property="apply"/>
		<result column="code_no" property="codeNo"/>
		<result column="final_round" property="finalRound"/>
		<result column="result" property="result"/>
		<result column="link" property="link"/>		
	</resultMap>

	<select id="selectSchedule" resultMap="scheduleMap">
		select *
		  from tb_calendar
	</select>
	
	<update id="updateDate" parameterType="schedule">
		update tb_calendar
		   set start_date = case when #{days} > 0 then start_date + #{days}
		   					else start_date - #{days} end,
		   	   end_date = case when #{days} > 0 then start_date + #{days}
		   					else start_date - #{days} end,
		 where recruit_no = #{recruitNo}
	</update>

</mapper>






















